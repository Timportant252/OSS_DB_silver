# バックアップとリストア
# バックアップとリストアの方法
PostgreSQLの稼働中にバックアップを行う方法にはpg_dumpコマンド、pg_dumpallコマンドがある。  
リストアの方法はバックアップ形式によってことなり、平文形式ではpsqlコマンド、平文形式以外ではpg_restoreコマンドを使用する。  

| バックアップ形式 | バックアップコマンド | リストアコマンド |
| ---- | ---- | ---- |
| 平文形式 | pg_dump pg_dumpall | psql |
| 平文形式以外 | pg_dump | pg_restore | 
* リストア ... バックアップしていたものの復元  

PostgreSQL稼働中にバックアップを取得するには、pg_dumpコマンドかpg_dumpallコマンドを使用する。  
DBを指定してバックアップする場合はpg_dumpコマンド  
全てのDB、DBクラスタをバックアップする場合はpg_dumpallコマンドを使用する。  
pg_dumpコマンドには-Fオプションをつけてバックアップの出力形式を指定できる。  
pg_dumpallコマンドは複数のDBへ接続を行うため、スーパーユーザで実行する。  

* pg_dump 接続オプション -Fp / -Fc/ -Ft -f ファイル名 DB名  
* pg_dumpall 接続オプション -f ファイル名  

pg_dump/ pg_dumpallコマンドの主なオプション

| オプション | 説明 | 
| ---- | ---- |
| -Fp | 出力形式として平文(Plain)を指定する。指定がない場合のデフォルト | 
| -Fc | 出力形式としてカスタム(Custom)形式を指定する。 | 
| -Ft | 出力形式としてtar形式を指定する。 | 
| -f | バックアップ先のファイル名を指定する。 未指定の場合は標準出力 |

ああああ